<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:ToyRobotSimulator.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:avaloniaEdit="clr-namespace:AvaloniaEdit;assembly=AvaloniaEdit"
        mc:Ignorable="d" d:DesignWidth="1280" d:DesignHeight="720"
        x:Class="ToyRobotSimulator.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="ToyRobotSimulator">

	<Design.DataContext>
		<!-- This only sets the DataContext for the previewer in an IDE,
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
		<vm:MainWindowViewModel/>
	</Design.DataContext>

	<Grid RowDefinitions="*,Auto,*">
		<Grid ColumnDefinitions="Auto,Auto,*">
			<!--Editor Functions-->
			<ScrollViewer
			  ScrollViewer.HorizontalScrollBarVisibility="Auto"
			  ScrollViewer.VerticalScrollBarVisibility="Auto">

				<Grid RowDefinitions="*,Auto,*">
					<!--Basic Functions-->
					<StackPanel Margin="10" Spacing="10">
						<Button Name="btn_EnterPLACE"
								ToolTip.Tip="Put the toy robot on the table in position and facing a direction">
							PLACE
						</Button>

						<StackPanel Orientation="Horizontal">
							<StackPanel.Styles>
								<Style Selector="Label">
									<Setter Property="VerticalAlignment" Value="Center"/>
								</Style>
							</StackPanel.Styles>
							<Label>X:</Label>
							<TextBox Name="txtbox_PlaceX" Text="{Binding PlaceX, Mode=TwoWay}"/>

							<Label>Y:</Label>
							<TextBox Name="txtbox_PlaceY" Text="{Binding PlaceY, Mode=TwoWay}"/>

							<Label>Direction:</Label>
							<ComboBox SelectedIndex="{Binding DirectionSelectIndex, Mode=TwoWay}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center">
								<ComboBox.Styles>
									<Style Selector="ComboBoxItem">
										<Setter Property="HorizontalContentAlignment" Value="Center"/>
										<Setter Property="VerticalContentAlignment" Value="Center"/>
									</Style>
								</ComboBox.Styles>

								<ComboBoxItem>NORTH</ComboBoxItem>
								<ComboBoxItem>EAST</ComboBoxItem>
								<ComboBoxItem>SOUTH</ComboBoxItem>
								<ComboBoxItem>WEST</ComboBoxItem>
							</ComboBox>
						</StackPanel>

						<Button Name="btn_EnterMOVE"
							ToolTip.Tip="Move the toy robot one unit forward in the direction it is currently facing">
							MOVE
						</Button>
						<Button Name="btn_EnterLEFT"
							ToolTip.Tip="Rotate the robot 90 degrees in anticlockwise">
							LEFT
						</Button>
						<Button Name="btn_EnterRIGHT"
							ToolTip.Tip="Rotate the robot 90 degrees in clockwise">
							RIGHT
						</Button>
						<Button Name="btn_EnterREPORT"
							ToolTip.Tip="Output the robot's current situation">
							REPORT
						</Button>

					</StackPanel>

					<Border Grid.Row="1" Classes="HorizontalDecorationLine"/>

					<!--Advanced Functions-->
					<Grid Grid.Row="2">
						<Label Classes="Title">
							Advanced Feature
						</Label>

					</Grid>
				</Grid>

			</ScrollViewer>

			<GridSplitter Grid.Column="1"/>

			<!--Code Editor-->
			<Grid Grid.Column="2" RowDefinitions="Auto,Auto,*" Margin="10">
				<StackPanel Orientation="Horizontal" Spacing="5">
					<Button Name="btn_ImportFile"
						ToolTip.Tip="Insert code from a .txt file">
						+ Insert from file
					</Button>

					<Button Name="btn_ExportFile"
						ToolTip.Tip="Export code to a .txt file">
						+ Save file
					</Button>

					<Button Name="btn_ClearCode"
						ToolTip.Tip="Clear all the code">
						+ Clear
					</Button>
				</StackPanel>

				<Border Grid.Row="1" Classes="HorizontalDecorationLine" Margin="0,10"/>

				<Border Grid.Row="2" Classes="Frame">
					<avaloniaEdit:TextEditor Name="aetxtedt_CodeEditor"
											 FontSize="14"
											 ShowLineNumbers="True"
											 ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>
				</Border>
			</Grid>
		</Grid>

		<GridSplitter Grid.Row="1"/>

		<!--Result Section-->
		<Grid Grid.Row="2">
			<StackPanel Margin="10">
				<StackPanel Orientation="Horizontal" Spacing="5">
					<Button Name="btn_Run" ToolTip.Tip="Run the code">
						Run
					</Button>
					<Button Name="btn_RunLine" ToolTip.Tip="Run the focused code line">
						Run Line
					</Button>
					<Button Name="btn_ClearResult" ToolTip.Tip="Clear the results">
						Clear Result
					</Button>
				</StackPanel>

				<avaloniaEdit:TextEditor Name="aetxtedt_Results" IsReadOnly="True" MinHeight="50" MaxHeight="100"
									 Margin="0,10,0,0" Background="WhiteSmoke"
									 ScrollViewer.HorizontalScrollBarVisibility="Disabled"
									 ScrollViewer.VerticalScrollBarVisibility="Auto"/>
				<Border Classes="HorizontalDecorationLine" Margin="0"/>

				<ListBox Name="lisbox_OutputSwitch" SelectionMode="Single" SelectedIndex="0" Background="WhiteSmoke">
					<ListBox.Styles>
						<Style Selector="ListBoxItem">
							<Setter Property="Height" Value="30"/>
							<Setter Property="Padding" Value="8,0"/>
							<Setter Property="HorizontalContentAlignment" Value="Center"/>
							<Setter Property="VerticalContentAlignment" Value="Center"/>
						</Style>
					</ListBox.Styles>
					<ListBox.ItemsPanel>
						<ItemsPanelTemplate>
							<StackPanel Orientation="Horizontal"/>
						</ItemsPanelTemplate>
					</ListBox.ItemsPanel>
					
					<ListBoxItem HorizontalAlignment="Stretch">Error List</ListBoxItem>
					<ListBoxItem HorizontalAlignment="Stretch">Output</ListBoxItem>
				</ListBox>

				<Button Margin="0,10,0,0">
					Preview
				</Button>
			</StackPanel>
		</Grid>

	</Grid>
</Window>
